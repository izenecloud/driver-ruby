{
  "title":"Set Merchant Score",
  "type":"map",
  "desc":"set merchant score for product ranking",
  "mapping": {
    "collection": {
      "type": "str",
      "desc": "set a collection name",
      "required": true
    },

    "header": {
      "type":"map",
      "mapping": $(header)
    },

    "resource": {
      "type": "seq",
      "desc": "each item gives the score for the merchant and its categories",
      "required": true,
      "sequence": [{
        "type": "map",
        "mapping": {
          "merchant": {
            "type": "str",
            "required": true,
            "desc": "the merchant's name"
          },
          "score": {
            "type": "str",
            "required": true,
            "desc": "the merchant's general score"
          },
          "category_score": {
            "type": "seq",
            "desc": "each item gives the score for a category of the merchant",
            "sequence": [{
              "type": "map",
              "mapping": {
                "category": {
                  "type": "str",
                  "required": true,
                  "desc": "the category name"
                },
                "score": {
                  "type": "str",
                  "required": true,
                  "desc": "the category score"
                }
              }
            }]
          }
        }
      }]
    }

  }
}
